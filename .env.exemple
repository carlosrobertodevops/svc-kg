# =========================
# svc-kg — v1.7.16
# =========================

# App
APP_ENV=production
PORT=8080
LOG_LEVEL=info

# CORS
CORS_ALLOW_ORIGINS=*
CORS_ALLOW_METHODS=GET,POST,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type
CORS_ALLOW_CREDENTIALS=false

# Cache (Redis) — opcional, mas habilitado no docker-compose
ENABLE_REDIS_CACHE=true
REDIS_URL=redis://svc-kg-redis:6379/0
CACHE_API_TTL=60

# -------------------------
# Backend (Supabase/PostgREST)
# -------------------------
# URL base do seu projeto Supabase (ex.: https://abcd1234.supabase.co)
SUPABASE_URL=https://<seu-projeto>.supabase.co
# Chave de serviço/anon (precisa ter acesso ao PostgREST e, se usar Storage, leitura pública dos objetos)
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# Nome da função RPC que retorna o grafo
SUPABASE_RPC_FN=get_graph_membros
# Timeout (s) de chamadas HTTP ao Supabase
SUPABASE_TIMEOUT=15

# -------------------------
# Fotos de pessoas (membros)
# -------------------------
# Tabela e colunas onde está o URL da foto (pode vir do Storage público ou de uma CDN própria)
MEMBERS_TABLE=membros
MEMBERS_ID_COL=id
MEMBERS_PHOTO_COL=photo_url

# -------------------------
# Swagger / OpenAPI
# -------------------------
# /docs e /docs/openapi.yaml já ficam habilitados; não precisa configurar nada aqui.
# Mantido apenas para referência futura.
