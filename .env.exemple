# =============================================================================
# Arquivo: .env.exemple
# Versão: v1.7.20
# Objetivo: Variáveis de ambiente do micro-serviço (produção/local)
# Funções/métodos:
# - Define CORS, Redis, Supabase, timeouts e cache da API
# =============================================================================

# App
APP_ENV=production
APP_HOST=svc-kg.mondaha.com
PORT=8080
LOG_LEVEL=info

# CORS
CORS_ALLOW_ORIGINS=*
CORS_ALLOW_METHODS=GET,POST,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type
CORS_ALLOW_CREDENTIALS=false

# Cache
ENABLE_REDIS_CACHE=true
REDIS_URL=redis://svc-kg-redis:6379/0
CACHE_API_TTL=60

# Supabase (PostgREST + Storage)
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_KEY=
SUPABASE_RPC_FN=get_graph_membros
SUPABASE_TIMEOUT=15

# Tabela de fotos
MEMBERS_TABLE=membros
MEMBERS_ID_COL=id
MEMBERS_PHOTO_COL=photo_url

# POSTGRES (local). Se usar, deixe SUPABASE_* em branco.
DATABASE_URL=

CACHE_STATIC_MAX_AGE=86400
CACHE_API_TTL=60
ENABLE_REDIS_CACHE=true
# REDIS_URL=redis://redis:6379/0

# <<< Somente se usar docker-compose.coolify-proxy.yml >>>
COOLIFY_PROXY_NETWORK=coolify-proxy

# opcional: para teste
SERVER_CMD=gunicorn
